<div class="">
  <div class="d-flex flex-wrap justify-content-between align-item-bottom">
    <h3 class="home-subtitle m-0">Mi Perfil </h3>
    <button class="btn btn-outline-success d-flex align-items-center" type="button" (click)="fnSubmit()">
      <i class="bx bx-user-plus" style="color: royalblue"> </i>
      <span class="ms-1">Actualizar Datos</span>
    </button>
  </div>
  <form class="mt-3" [formGroup]="formData" (ngSubmit)="fnSubmit()" >
    <!-- <button type="submit">enviar</button> -->
    <div class="row  justify-content-center">
      <div class="col-sm-auto bg-primary">
        <div class="content-img">
          <!-- Para eliminar la imagen seleccionar, pero solo debe mostrarse cuando se seleccionar la imagen -->
          <span class="delete" *ngIf="selectedFileUrl" (click)="deleteImg()">X</span>
          <!-- <div *ngIf="selectedFileUrl"> -->
          <img [src]="selectedFileUrl? selectedFileUrl:'../../../../../assets//img//Default_pfp.svg.png'"
            style=" margin: auto;;">
          <!-- </div> -->
        </div>

        <input id="fileInput" type="file" (change)="onFileSelected($event)" accept="image/*" class="bg-danger"
          formControlName="profile">
      </div>

      <div class="col mt-3  mt-sm-0">
        <!-- card p-3 mb-3" -->

        <div class="row">
          <div class="form-floating mb-3 col-sm-6">
            <input type="text" class="form-control" id="dni" placeholder="" formControlName="dni" />
            <label for="dni" class="ms-1">C&eacute;dula</label>

            <div *ngIf="
                                    formData.controls['dni'].invalid &&
                                    (formData.controls['dni'].dirty ||
                                      formData.controls['dni'].touched)
                                  " class="form-text text-danger">
              <div *ngFor="let validation of validMessage.cedula">
                <div style="font-size: smaller !important" *ngIf="
                                        formData.get('dni')?.hasError(validation.type) &&
                                        (formData.get('dni')?.dirty ||
                                          formData.get('dni')?.touched)
                                      ">
                  {{ validation.message }}
                </div>
              </div>


              <div style="font-size: smaller !important" *ngIf="
                                          formData.get('dni')?.hasError('alreadyExist') &&
                                          (formData.get('dni')?.dirty ||
                                            formData.get('dni')?.touched)
                                        ">
                {{ formData.get("dni")?.getError("alreadyExist") }}
              </div>
              <div style="font-size: smaller !important" *ngIf="
                                  formData.get('dni')?.hasError('incorrectDni') &&
                                  (formData.get('dni')?.dirty ||
                                    formData.get('dni')?.touched)
                                ">
                {{ formData.get("dni")?.getError("incorrectDni") }}
              </div>
            </div>
          </div>

          <div class="form-floating mb-3 col-sm-6">
            <input type="text" class="form-control" id="name" placeholder="" formControlName="name" />
            <label for="name" class="ms-1">Nombres</label>
            <div *ngIf="
                                    formData.controls['name'].invalid &&
                                    (formData.controls['name'].dirty ||
                                      formData.controls['name'].touched)
                                  " class="form-text text-danger">
              <div *ngFor="let validation of validMessage.name">
                <div style="font-size: smaller !important" *ngIf="
                                        formData.get('name')?.hasError(validation.type) &&
                                        (formData.get('name')?.dirty ||
                                          formData.get('name')?.touched)
                                      ">
                  {{ validation.message }}
                </div>
              </div>
            </div>
          </div>
          <div class="form-floating mb-3 col-sm-6">
            <input type="email" class="form-control" id="email" placeholder="" formControlName="email" />
            <label for="email" class="ms-1">Email</label>
            <div *ngIf="
                                        formData.controls['email'].invalid &&
                                        (formData.controls['email'].dirty ||
                                          formData.controls['email'].touched)
                                      " class="form-text text-danger">
              <div *ngFor="let validation of validMessage.email">
                <div style="font-size: smaller !important" *ngIf="
                                            formData.get('email')?.hasError(validation.type) &&
                                            (formData.get('email')?.dirty ||
                                              formData.get('email')?.touched)
                                          ">
                  {{ validation.message }}
                </div>
              </div>

              <div style="font-size: smaller !important" *ngIf="
                              formData.get('email')?.hasError('alreadyExist') &&
                              (formData.get('email')?.dirty ||
                                formData.get('email')?.touched)
                            ">
                {{ formData.get("email")?.getError("alreadyExist") }}
              </div>

            </div>
          </div>

          <div class="form-floating mb-3 col-sm-6">
            <input type="text" class="form-control" id="address" placeholder="" formControlName="address" />
            <label for="address" class="ms-1">Direcci&oacute;n</label>

            <div *ngIf="
                                        formData.controls['address'].invalid &&
                                        (formData.controls['address'].dirty ||
                                          formData.controls['address'].touched)
                                      " class="form-text text-danger">
              <div *ngFor="let validation of validMessage.address">
                <div style="font-size: smaller !important" *ngIf="
                                            formData.get('address')?.hasError(validation.type) &&
                                            (formData.get('address')?.dirty ||
                                              formData.get('address')?.touched)
                                          ">
                  {{ validation.message }}
                </div>
              </div>
            </div>
          </div>

          <div class="form-floating mb-3 col-sm-6">
            <input type="text" class="form-control" id="phone" placeholder="" formControlName="phone" />
            <label for="phone" class="ms-1">Tel&eacute;fono</label>

            <div *ngIf="
                                        formData.controls['phone'].invalid &&
                                        (formData.controls['phone'].dirty ||
                                          formData.controls['phone'].touched)
                                      " class="form-text text-danger">
              <div *ngFor="let validation of validMessage.phone">
                <div style="font-size: smaller !important" *ngIf="
                                            formData.get('phone')?.hasError(validation.type) &&
                                            (formData.get('phone')?.dirty ||
                                              formData.get('phone')?.touched)
                                          ">
                  {{ validation.message }}
                </div>
              </div>
            </div>
          </div>

          <div class="form-floating mb-3 col-sm-6">
            <input type="date" class="form-control" id="born" placeholder="" formControlName="born" />
            <label for="born" class="ms-1">Fecha Nacimiento</label>

            <div *ngIf="
                                        formData.controls['born'].invalid &&
                                        (formData.controls['born'].dirty ||
                                          formData.controls['born'].touched)
                                      " class="form-text text-danger">
              <div *ngFor="let validation of validMessage.born">
                <div style="font-size: smaller !important" *ngIf="
                                            formData.get('born')?.hasError(validation.type) &&
                                            (formData.get('born')?.dirty ||
                                              formData.get('born')?.touched)
                                          ">
                  {{ validation.message }}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </form>

</div>